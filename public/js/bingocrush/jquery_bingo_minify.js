(function($){$.fn.thumbPopup=function(options){settings=jQuery.extend({popupId:"thumbPopup",popupCSS:{'border':'2px solid #CD222B','background':'#FFFFFF','padding':' 6px','-webkit-border-radius':' 6px','-moz-border-radius':' 6px','border-radius':' 6px',' -webkit-box-shadow':'5px 6px 10px 1px #c4c4c4','box-shadow':' 5px 6px 10px 1px #c4c4c4','margin-top':'-30px','z-index':'1000'},imgSmallFlag:"_t",imgLargeFlag:"_l",cursorTopOffset:15,cursorLeftOffset:15,loadingHtml:"<span style='padding: 5px;'>Loading</span>"},options);popup=$("<div />").css(settings.popupCSS).attr("id",settings.popupId).css("position","absolute").appendTo("body").hide();$(this).hover(setPopup).mousemove(updatePopupPosition).mouseout(hidePopup);function setPopup(event){var fullImgURL=$(this).attr("src").replace(settings.imgSmallFlag,settings.imgLargeFlag);$(this).data("hovered",true);$("<img />").bind("load",{thumbImage:this},function(event){if($(event.data.thumbImage).data("hovered")==true){$(popup).empty().append(this);updatePopupPosition(event);$(popup).show()}$(event.data.thumbImage).data("cached",true)}).attr("src",fullImgURL);if($(this).data("cached")!=true){$(popup).append($(settings.loadingHtml));$(popup).show()}updatePopupPosition(event)}function updatePopupPosition(event){var windowSize=getWindowSize();var popupSize=getPopupSize();if(windowSize.width+windowSize.scrollLeft<event.pageX+popupSize.width+settings.cursorLeftOffset){$(popup).css("left",event.pageX-popupSize.width-settings.cursorLeftOffset)}else{$(popup).css("left",event.pageX+settings.cursorLeftOffset)}if(windowSize.height+windowSize.scrollTop<event.pageY+popupSize.height+settings.cursorTopOffset){$(popup).css("top",event.pageY-popupSize.height-settings.cursorTopOffset)}else{$(popup).css("top",event.pageY+settings.cursorTopOffset)}}function hidePopup(event){$(this).data("hovered",false);$(popup).empty().hide()}function getWindowSize(){return{scrollLeft:$(window).scrollLeft(),scrollTop:$(window).scrollTop(),width:$(window).width(),height:$(window).height()}}function getPopupSize(){return{width:$(popup).width(),height:$(popup).height()}}return this}})(jQuery);$(document).ready(function(){$('#TTBingosubNav').hide();var index=1;$('#main-menu').find(".active").each(function(){if(index==1){var con=$(this).find("#nav-menu-sub").html();if(con){$('#TTBingosubNav').show();$('#sub-menu').html(con)}else $('#TTBingosubNav').hide()}if(index==2){}index++})});function onHover(obj){document.getElementById("sub-menu-hover").innerHTML="";if(obj.getElementsByTagName("ul")[0]!=undefined){document.getElementById("sub-menu-hover").innerHTML=obj.getElementsByTagName("ul")[0].innerHTML}}function onOut(){document.getElementById("sub-menu-hover").innerHTML=""};(function(window,document,$){var isInputSupported='placeholder'in document.createElement('input'),isTextareaSupported='placeholder'in document.createElement('textarea'),prototype=$.fn,valHooks=$.valHooks,hooks,placeholder;if(isInputSupported&&isTextareaSupported){placeholder=prototype.placeholder=function(){return this};placeholder.input=placeholder.textarea=true}else{placeholder=prototype.placeholder=function(){var $this=this;$this.filter((isInputSupported?'textarea':':input')+'[placeholder]').not('.placeholder').bind({'focus.placeholder':clearPlaceholder,'blur.placeholder':setPlaceholder}).data('placeholder-enabled',true).trigger('blur.placeholder');return $this};placeholder.input=isInputSupported;placeholder.textarea=isTextareaSupported;hooks={'get':function(element){var $element=$(element);return $element.data('placeholder-enabled')&&$element.hasClass('placeholder')?'':element.value},'set':function(element,value){var $element=$(element);if(!$element.data('placeholder-enabled')){return element.value=value}if(value==''){element.value=value;if(element!=document.activeElement){setPlaceholder.call(element)}}else if($element.hasClass('placeholder')){clearPlaceholder.call(element,true,value)||(element.value=value)}else{element.value=value}return $element}};isInputSupported||(valHooks.input=hooks);isTextareaSupported||(valHooks.textarea=hooks);$(function(){$(document).delegate('form','submit.placeholder',function(){var $inputs=$('.placeholder',this).each(clearPlaceholder);setTimeout(function(){$inputs.each(setPlaceholder)},10)})});$(window).bind('beforeunload.placeholder',function(){$('.placeholder').each(function(){this.value=''})})}function args(elem){var newAttrs={},rinlinejQuery=/^jQuery\d+$/;$.each(elem.attributes,function(i,attr){if(attr.specified&&!rinlinejQuery.test(attr.name)){newAttrs[attr.name]=attr.value}});return newAttrs}function clearPlaceholder(event,value){var input=this,$input=$(input);if(input.value==$input.attr('placeholder')&&$input.hasClass('placeholder')){if($input.data('placeholder-password')){$input=$input.hide().next().show().attr('id',$input.removeAttr('id').data('placeholder-id'));if(event===true){return $input[0].value=value}$input.focus()}else{input.value='';$input.removeClass('placeholder');input==document.activeElement&&input.select()}}}function setPlaceholder(){var $replacement,input=this,$input=$(input),$origInput=$input,id=this.id;if(input.value==''){if(input.type=='password'){if(!$input.data('placeholder-textinput')){try{$replacement=$input.clone().attr({'type':'text'})}catch(e){$replacement=$('<input>').attr($.extend(args(this),{'type':'text'}))}$replacement.removeAttr('name').data({'placeholder-password':true,'placeholder-id':id}).bind('focus.placeholder',clearPlaceholder);$input.data({'placeholder-textinput':$replacement,'placeholder-id':id}).before($replacement)}$input=$input.removeAttr('id').hide().prev().attr('id',id).show()}$input.addClass('placeholder');$input[0].value=$input.attr('placeholder')}else{$input.removeClass('placeholder')}}}(this,document,jQuery));function goToLogin(formname){removeAllErrors(formname);var sUrl='/auth/signup';var args="";var callback={success:dataHandler,failure:failurHandler,timeout:30000};var dform=document[formname];var input_array=dform.getElementsByTagName("input");var post_vars="ajax=true&";var noerror=true;for(var i=0;i<input_array.length;i++){if(!input_array[i].value&&input_array[i].id!='affId'&&input_array[i].id!='trackerId'&&input_array[i].id!='buddyId'){noerror=false;displayError("<b>Value is required</b>",input_array[i].id,formname)}else if((input_array[i].value.length<6||input_array[i].value.length>45)&&(input_array[i].name=='password'||input_array[i].name=='confirmPassword')){noerror=false;displayError("<b>Password must be 6 characters long</b>",input_array[i].id,formname)}else if(input_array[i].name=='email'){if(input_array[i].value.length>100){noerror=false;displayError("<b>Email Address length should be less than 100</b>",input_array[i].id,formname)}else{var emailPattern=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;var emailValid=emailPattern.test(input_array[i].value);if(!emailValid){noerror=false;displayError("<b>Please enter valid email address</b>",input_array[i].id,formname)}}}post_vars+=input_array[i].name+"="+input_array[i].value+"&"}if(noerror){post_vars=post_vars.substr(0,post_vars.length-1);var transaction=YAHOO.util.Connect.asyncRequest('POST',sUrl,callback,post_vars)}}function removeAllErrors(formname){var dform=document[formname];var linode=dform.getElementsByTagName('li');for(var i=0;i<linode.length;i++){var c=linode[i].getElementsByTagName('div');if(c.length>0){linode[i].removeChild(c[0])}}}function dataHandler(o){alert(o.responseText)}function failurHandler(o){}function displayError(msg,container,formname){var md=document.createElement("div");md.innerHTML=msg;this.insertAfter(md,document.getElementById(container))}function insertAfter(newElement,targetElement){var parent=targetElement.parentNode;if(parent.lastchild==targetElement){parent.appendChild(newElement)}else{parent.insertBefore(newElement,targetElement.nextSibling)}}function lIterator(listElement,delay){for(var i=listElement.childNodes.length-1;i>=0;i--)if(!/li/i.test(listElement.childNodes[i].nodeName))listElement.removeChild(listElement.childNodes[i]);for(var i=1;i<listElement.childNodes.length;i++)listElement.childNodes[i].style.display='none';this.currentLI=listElement.firstChild;lIterator.instances=new Array();this.id=lIterator.instances.length;lIterator.instances.push(this);setInterval('lIterator.instances['+this.id+'].showNext()',delay);this.showNext=function(){this.currentLI.style.display='none';this.currentLI=this.currentLI.nextSibling?this.currentLI.nextSibling:this.currentLI.parentNode.firstChild;this.currentLI.style.display='block'}}function popitup(url,parameters){if(parameters){newwindow=window.open(url,'name','height=500,width=500,resizable=0,status=1,scrollbars=1')}else{newwindow=window.open(url,'name','resizable=1,status=1,scrollbars=1')}if(window.focus){newwindow.focus()}return false}function goToBankPage(){var d=new Date();d.setFullYear(d.getFullYear(),d.getMonth(),d.getDate()+1);document.cookie="status=CANCELLED; expires="+d.toGMTString()+"; path=/";window.location.href="/banking/deposit"}var depositCounter=0;function setDepositCounter(){depositCounter=1;document.getElementById("deposit-back").style.display="block"}function nextDepositSec(){var errors=document.getElementById("inner-iframe-box").getElementsByTagName("p");for(var i=1;i<errors.length;i++){document.getElementById("inner-iframe-box").removeChild(errors[i-1])}var errors=document.getElementById("deposit-section-2").getElementsByTagName("p");for(var i=1;i<=errors.length;i++){document.getElementById("deposit-section-2").removeChild(errors[i-1])}if(depositCounter==0){var amountSelected=false;amountSelected=this.getAmount();if(amountSelected){$.ajax({type:"POST",url:"/banking/deposit",data:{amount:amountSelected,ajax:true,formName:'amount'},success:function(data){var response=data.split('&');if(response[0]=='error'){alert(response[1])}else{document.getElementById("player-deposit-amount").textContent="You have selected Â£"+amountSelected+"";var aTag=document.getElementById("step-"+depositCounter).getElementsByTagName("a");aTag[0].setAttribute("class","");document.getElementById("deposit-section-"+depositCounter).style.display="none";depositCounter++;if(data==1){depositCounter++;document.getElementById("deposit-next-1").style.display="none";document.getElementById("confirm-order").style.display="block";if(document.getElementById('debit').checked){document.getElementById("exist_bank").style.display="block";document.getElementById("deposit_radio").style.display="block";document.getElementById("credit_radio").style.display="none";document.getElementById("addcard_debit").style.display="none";document.getElementById("confirm-order").style.display="none";document.getElementById("deposit-next-1").style.display="none"}else if(document.getElementById('credit').checked){document.getElementById("exist_bank").style.display="block";document.getElementById("deposit_radio").style.display="none";document.getElementById("credit_radio").style.display="block";document.getElementById("addcard_debit").style.display="none";document.getElementById("confirm-order").style.display="none";document.getElementById("deposit-next-1").style.display="none"}}else{document.getElementById("deposit-next-1").style.display="block"}document.getElementById("deposit-back").style.display="block";var aTag=document.getElementById("step-"+depositCounter).getElementsByTagName("a");aTag[0].setAttribute("class","current");document.getElementById("deposit-section-"+depositCounter).style.display="block"}}})}else{alert("please select amount")}}else if(depositCounter==1){var dob_year=document.getElementById("dob-year").value;var dob_month=document.getElementById("dob-month").value;var dob_date=document.getElementById("dob-date").value;if(dob_year=='year'||dob_month=='month'||dob_date=='date'){alert("Please fill date of birth")}else{var firstName=document.getElementById("firstName").value;var lastName=document.getElementById("lastName").value;var sex=document.getElementById("sex").value;var dob=dob_year+'-'+dob_month+'-'+dob_date;var contactNo=document.getElementById("contactNo").value;var email=document.getElementById("emailAddress").value;var address=document.getElementById("address").value;var city=document.getElementById("city").value;var pin=document.getElementById("pin").value;var state=document.getElementById("state").value;var country=document.getElementById("country").value;var post_vars="ajax="+true+"&formName=profile&firstName="+firstName+"&lastName="+lastName+"&sex="+sex+"&dob="+dob+"&contactNo="+contactNo+"&email="+email+"&address="+address+"&city="+city+"&pin="+pin+"&state="+state+"&country="+country;$.ajax({type:"POST",url:"/banking/deposit",data:post_vars,success:function(data){var response=data.split('&');if(response[0]=='error'){alert(response[1])}else{var aTag=document.getElementById("step-"+depositCounter).getElementsByTagName("a");aTag[0].setAttribute("class","");document.getElementById("deposit-section-"+depositCounter).style.display="none";depositCounter++;if(depositCounter==2){document.getElementById("deposit-next-0").style.display="none";document.getElementById("deposit-next-1").style.display="none";document.getElementById("confirm-order").style.display="block";if(document.getElementById('debit').checked){document.getElementById("exist_bank").style.display="block";document.getElementById("deposit_radio").style.display="block";document.getElementById("credit_radio").style.display="none";document.getElementById("addcard_debit").style.display="none";document.getElementById("confirm-order").style.display="none";document.getElementById("deposit-next-1").style.display="none"}else if(document.getElementById('credit').checked){document.getElementById("exist_bank").style.display="block";document.getElementById("deposit_radio").style.display="none";document.getElementById("credit_radio").style.display="block";document.getElementById("addcard_debit").style.display="none";document.getElementById("confirm-order").style.display="none";document.getElementById("deposit-next-1").style.display="none"}}var aTag=document.getElementById("step-"+depositCounter).getElementsByTagName("a");aTag[0].setAttribute("class","current");document.getElementById("deposit-section-"+depositCounter).style.display="block"}}})}}else{var aTag=document.getElementById("step-"+depositCounter).getElementsByTagName("a");aTag[0].setAttribute("class","");document.getElementById("deposit-section-"+depositCounter).style.display="none";depositCounter++;document.getElementById("deposit-back").style.display="block";if(depositCounter==2){document.getElementById("deposit-next-0").style.display="none";document.getElementById("deposit-next-1").style.display="none";document.getElementById("confirm-order").style.display="block"}var aTag=document.getElementById("step-"+depositCounter).getElementsByTagName("a");aTag[0].setAttribute("class","current");document.getElementById("deposit-section-"+depositCounter).style.display="block"}}function prevDepositSec(completed){var errors=document.getElementById("deposit-section-2").getElementsByTagName("p");for(var i=1;i<=errors.length;i++){document.getElementById("deposit-section-2").removeChild(errors[i-1])}var errors=document.getElementById("inner-iframe-box").getElementsByTagName("p");for(var i=1;i<errors.length;i++){document.getElementById("inner-iframe-box").removeChild(errors[i-1])}document.getElementById("deposit-next-1").style.display="block";document.getElementById("deposit-next-0").style.display="none";document.getElementById("confirm-order").style.display="none";var aTag=document.getElementById("step-"+depositCounter).getElementsByTagName("a");aTag[0].setAttribute("class","");document.getElementById("deposit-section-"+depositCounter).style.display="none";document.getElementById("exist_bank").style.display="none";document.getElementById("deposit_radio").style.display="none";document.getElementById("credit_radio").style.display="none";document.getElementById("addcard_debit").style.display="none";depositCounter--;if(completed&&depositCounter==1){depositCounter--}if(depositCounter==0){document.getElementById("deposit-back").style.display="none";document.getElementById("deposit-next-1").style.display="none";document.getElementById("deposit-next-0").style.display="block"}var aTag=document.getElementById("step-"+depositCounter).getElementsByTagName("a");aTag[0].setAttribute("class","current");document.getElementById("deposit-section-"+depositCounter).style.display="block"}function getAmount(){var amountChecked=false;var amount=0;var amountOptions=document.getElementById('deposit-section-0').getElementsByTagName('input');for(var i=0;i<amountOptions.length;i++){if(amountOptions[i].checked){amountChecked=true;var compareValue=6;if(document.getElementById('flowback-value')!=undefined){compareValue=7}if(i==compareValue){amount=document.getElementById('custom-amount').value}else{amount=amountOptions[i].value}}}if(!amountChecked||(amount==0)){return false}return amount}function checkPaymentType(paymentType){document.getElementById("confirm-order").style.display="none";if(paymentType=='UKASH'){document.getElementById("confirm-order").style.display="block";document.getElementById("exist_bank").style.display="none";document.getElementById("deposit_radio").style.display="none";document.getElementById("credit_radio").style.display="none";document.getElementById("addcard_debit").style.display="none"}else if(paymentType=='DEBIT'){document.getElementById("exist_bank").style.display="block";document.getElementById("deposit_radio").style.display="block";document.getElementById("credit_radio").style.display="none";document.getElementById("addcard_debit").style.display="none";document.getElementById("valid_month").id="card_valid_month";document.getElementById("valid_year").id="card_valid_year";document.getElementById("issue_number").id="issue_no"}else{document.getElementById("exist_bank").style.display="block";document.getElementById("deposit_radio").style.display="none";document.getElementById("credit_radio").style.display="block";document.getElementById("addcard_debit").style.display="none";if(document.getElementById("card_valid_month")!=undefined){document.getElementById("card_valid_month").id="valid_month"}if(document.getElementById("card_valid_year")!=undefined){document.getElementById("card_valid_year").id="valid_year"}if(document.getElementById("issue_no")!=undefined){document.getElementById("issue_no").id="issue_number"}}}function confirmOrder(cardId){$(".ttdepolback_1").attr('disabled',true);$(".ttdepolbackbtns").attr('disabled',true);var amount=this.getAmount();var paymentType="";var error=false;var isPaymentOptionSelected=false;var paymentOptions=document.getElementById('deposit-section-2').getElementsByTagName('input');var post_vars="ajax="+true;for(var i=0;i<paymentOptions.length;i++){if(paymentOptions[i].checked){isPaymentOptionSelected=true;paymentType=paymentOptions[i].value;var bankCode="";if(paymentType=='UKASH'){}else if(paymentType=='DEBIT'||paymentType=='CREDIT'){if(cardId){post_vars+="&cardId="+cardId}else{var firstName=document.getElementById("card_holder_fname").value;var lastName=document.getElementById("card_holder_lname").value;var cardNo=document.getElementById("card_no").value;var expiryMonth=document.getElementById("card_expiry_month").value;var expiryYear=document.getElementById("card_expiry_year").value;var issueNo=document.getElementById("card_issue_no").value;var cvcNo=document.getElementById("card_cvc_no").value;var cardSubType=document.getElementById("card_sub_type").value;var valMonth=document.getElementById("valid_from_month").value;var valYear=document.getElementById("valid_from_year").value;post_vars+="&firstName="+firstName+"&lastName="+lastName+"&cardNo="+cardNo+"&exMonth="+expiryMonth+"&exYear="+expiryYear+"&issueNo="+issueNo+"&cvcNo="+cvcNo+"&cardSubType="+cardSubType+"&valMonth="+valMonth+"&valYear="+valYear}}break}}if(!isPaymentOptionSelected){error=true;alert("Please choose one Mode Of Payment");document.getElementById("confirm-order").style.display="none"}if(!error){post_vars+="&formName=payment&paymentType="+paymentType;$.ajax({type:"POST",url:"/banking/deposit",data:post_vars,success:function(data){var response=data.split('&');var errors=document.getElementById("deposit-section-2").getElementsByTagName("p");for(var i=1;i<errors.length;i++){document.getElementById("deposit-section-2").removeChild(errors[i-1])}if(response[0]=='error'){$('#deposit-section-2').prepend('<p class="error payment-error">'+response[1]+'</p>')}else if(response[0]=='notice'){$('.ttdepol').before('<p class="notice">'+response[1]+'</p>')}window.location=response[0]}})}}function changeAmount(){var errors=document.getElementById("deposit-section-2").getElementsByTagName("p");for(var i=1;i<=errors.length;i++){document.getElementById("deposit-section-2").removeChild(errors[i-1])}document.getElementById("deposit-next-0").style.display="block";document.getElementById("confirm-order").style.display="none";document.getElementById("deposit-back").style.display="none";document.getElementById("deposit-next-1").style.display="none";var aTag=document.getElementById("step-"+depositCounter).getElementsByTagName("a");aTag[0].setAttribute("class","");document.getElementById("deposit-section-"+depositCounter).style.display="none";depositCounter=0;var aTag=document.getElementById("step-"+depositCounter).getElementsByTagName("a");aTag[0].setAttribute("class","current");document.getElementById("deposit-section-"+depositCounter).style.display="block"}